@model IEnumerable<job>
@using project3.Views.Shared.Components.SearchBar
@{
    Layout = "_UserLayout";
    SPager pager = new SPager();

    int pageNo = 0;

    if(ViewBag.SearchPager != null)
    {
        pager = ViewBag.SearchPager;
        pageNo = pager.CurrentPage;
    }
}
<div id="top-content" class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="main-slider">
                    @if (!User.Identity.IsAuthenticated)
                    {
                        <div class="slide">
                            <div class="row rtl-row">
                                <div class="col-sm-5">
                                    <div class="img-holder">
                                        <img src="~/images/slide-img1.png" alt="">
                                    </div>
                                </div>
                                <div class="col-sm-7">
                                    <div class="b-text">Outstanding Offer<br>Find your Dream Job</div>
                                    <a asp-action="user_register" class="hbtn hbtn-primary hbtn-lg">Create An Account</a>
                                </div>
                            </div>
                        </div>
                    }
                    <div class="slide">
                            <div class="row rtl-row">
                                <div class="col-sm-5">
                                    <div class="img-holder">
                                        <img src="~/images/slide-img2.png" alt="">
                                    </div>
                                </div>
                                <div class="col-sm-7">
                                    <div class="b-text">You Need Employees.. <br> Find yours today.</div>
                                    <a href="#" class="hbtn hbtn-primary hbtn-lg">Post Jobs</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="slide">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="main-domain-search-holder">
                                        <div class="b-text">Find Jobs Easily</div>
                                        <form asp-controller="User" asp-action="index">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="input-items">
                                                        <input type="text" class="form-control domain-input" name="SearchText" placeholder="Name of Job..." />
                                                        <span class="input-items-btn">
                                                            <input type="submit" class="btn search" value="Search" />
                                                            
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                        <!-- <div class="m-text">Starting at only <span class="bold">$2.38/mo*</span></div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<div class="pricing container-fluid" style="background-color: aliceblue;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="row-title" style="color: #3375e7;">All Jobs</div>
            </div>
        </div>
        
        @foreach(job jobs in Model){
            <div class="col-sm-6 col-md-4">
                <div class="pricing-box">
                    <div class="pricing-title">@jobs.job_name</div>
                    <div class="pricing-details">
                            <ul>
                                <li>company: @jobs.company_id</li>
                                <li>Age for this job: @jobs.age_range</li>
                                <li>Gender for this job: @jobs.job_age</li>
                                <li>Experince for this job: @jobs.experience_years</li>
                            </ul>
                        </div>
                    <div class="pricing-icon">
                        <div class="icon"><img src="~/JobImages/@jobs.job_image" alt="job" class="rounded-circle"></div>
                    </div>
                    
                    <div class="pricing-button">
                        <a asp-action="JobDetails" asp-controller="User" asp-route-id="@jobs.job_id">More</a>
                    </div>
                </div>
            </div>}
    </div>
        <vc:search-bar search-pager = "@ViewBag.SearchPager" bottom-bar="true"></vc:search-bar>

</div>


<div class="domain-search-holder container-fluid">
    <div class="container">
        <form asp-controller="User" asp-action="index">
            <div class="row">
                <div class="col-sm-12 col-md-4 col-lgmd-4"><div class="title">Search for Jobs</div></div>
                <div class="col-sm-8 col-md-5 col-lgmd-6">
                    <input class="domain-input" type="text" name="SearchText" placeholder="Job name"> 
                </div>
                <div class="col-sm-4 col-md-3 col-lgmd-2">
                    <button type="submit">Search now</button>
                </div>
            </div>
        </form>

    </div>
</div>
